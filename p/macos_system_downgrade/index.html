<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="macos 保存资料从ventura降级到monterey(兼容其他版本升级后降级) 原理: 在同一块硬盘上同时装两个系统, 然后手动迁移数据, 用一段时间没"><title>Macos降级</title><link rel=canonical href=/p/macos_system_downgrade/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="Macos降级"><meta property="og:description" content="macos 保存资料从ventura降级到monterey(兼容其他版本升级后降级) 原理: 在同一块硬盘上同时装两个系统, 然后手动迁移数据, 用一段时间没"><meta property="og:url" content="/p/macos_system_downgrade/"><meta property="og:site_name" content="Jqtmviyu's Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="macos"><meta property="article:published_time" content="2023-05-10T23:02:26+08:00"><meta property="article:modified_time" content="2023-05-10T23:02:26+08:00"><meta name=twitter:title content="Macos降级"><meta name=twitter:description content="macos 保存资料从ventura降级到monterey(兼容其他版本升级后降级) 原理: 在同一块硬盘上同时装两个系统, 然后手动迁移数据, 用一段时间没"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/avatar.webp width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Jqtmviyu's Blog</a></h1><h2 class=site-description>It's never too late to learn.</h2></div></header><ol class=social-menu><li><a href=https://github.com/jqtmviyu target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:jqtmviyu@gmail.com target=_blank title=Mail rel=me><!doctype html><svg t="1640862754493" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="1236" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style/></defs><path d="M858.656 192H165.344C109.472 192 64 237.44 64 293.312v469.376C64 818.56 109.472 864 165.344 864h693.312C914.528 864 960 818.56 960 762.688V293.312C960 237.44 914.528 192 858.656 192zm0 608H165.344C144.736 8e2 128 783.264 128 762.688V293.312C128 272.736 144.736 256 165.344 256h684.544L542.4 535.808c-14.592 14.56-38.272 14.528-54.752-1.792L243.392 327.264C229.856 315.84 209.664 317.504 198.272 331.008c-11.424 13.472-9.76 33.664 3.744 45.088l242.304 204.96c19.904 19.904 46.048 29.792 72.032 29.792 25.632.0 51.136-9.632 70.176-28.736L896 300.544v462.144C896 783.264 879.264 8e2 858.656 8e2z" p-id="1237" fill="#b6b6b6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#分区>分区</a></li><li><a href=#下载monterey完整系统>下载monterey完整系统</a></li><li><a href=#制作安装u盘>制作安装u盘</a></li><li><a href=#安装系统>安装系统</a></li><li><a href=#迁移数据>迁移数据</a><ol><li><a href=#应用迁移>应用迁移</a></li><li><a href=#用户数据迁移>用户数据迁移</a></li><li><a href=#库文件迁移>库文件迁移</a></li><li><a href=#少数应用配置迁移>少数应用配置迁移</a></li><li><a href=#少数应用需要重装>少数应用需要重装</a></li></ol></li><li><a href=#删除旧宗卷>删除旧宗卷</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/systems/>systems</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/macos_system_downgrade/>Macos降级</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023/May/10</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><h1 id=macos-保存资料从ventura降级到monterey兼容其他版本升级后降级>macos 保存资料从ventura降级到monterey(兼容其他版本升级后降级)</h1><blockquote><p>原理: 在同一块硬盘上同时装两个系统, 然后手动迁移数据, 用一段时间没问题后把原来的系统删除</p></blockquote><ul><li><p>1: 为什么不用时间机器备份?
: 从高降到低版本, 有网友说不支持还原, 而且需要另外的硬盘</p></li><li><p>2: 有哪些缺点?
这样做相当于重装系统, 手动迁移数据会有少数需要驱动的应用需要重装, 部分应用的设置丢失</p></li><li><p>3: 大概需要花多少时间?
建议至少空闲1天出来才动手</p></li><li><p>4: 重装前有条件还是用时间机器完全备份, 至少也要用手机把应用(包括homebrw里的)拍下照</p></li></ul><h2 id=分区>分区</h2><p>在我理解: macos上的宗卷和windows上的分区不太一样, windows上的分区分好后调整非常麻烦, 而macos的宗卷更类似linux上的文件夹, 并不是固定大小, 而是动态的挂载点</p><p>所以分出一个apfs宗卷装系统, 确定硬盘上有个150-200G应该就够了</p><p>分区方法参考: ===BV1sW4y1W7Fa===, 后面部分参考自该教程</p><p>使用系统自带磁盘工具, 在<code>容器disk xx</code> 右键新建一个apfs宗卷, 格式选择apfs
为了做区分, 可以命名为<code>Macos 12</code> 方便区分, 还可以把原来的宗卷顺带命名为<code>Macos 13</code></p><h2 id=下载monterey完整系统>下载monterey完整系统</h2><p>不同于大部分教程使用商店下载, 我更推荐使用命令或者找 github 上的shell 工具</p><ol><li>使用命令下载</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 获取列表</span>
</span></span><span class=line><span class=cl>softwareupdate --list-full-installers
</span></span><span class=line><span class=cl><span class=c1># 下载monterey最新, 假设当前最新是12.6.5</span>
</span></span><span class=line><span class=cl>softwareupdate --fetch-full-installer --full-installer-version 12.6.5
</span></span><span class=line><span class=cl><span class=c1># 上面系统下载完成后,启动台里会多出一个 Install macOS Monterey.app</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>使用github上的工具 <a class=link href=https://github.com/corpnewt/gibMacOS target=_blank rel=noopener>https://github.com/corpnewt/gibMacOS</a> 类似的工具还有很多</li></ol><h2 id=制作安装u盘>制作安装u盘</h2><p>参考苹果官方文档</p><p>Create a bootable installer for macOS <a class=link href=https://support.apple.com/en-us/HT201372 target=_blank rel=noopener>https://support.apple.com/en-us/HT201372</a></p><ol><li>格式化u盘(至少15G), 同样使用自带的磁盘工具, 格式选择 macos扩展(日志式), 假设命名为<code>MyVolume</code></li><li>写入u盘</li></ol><p>注意: 最好用自带终端, 如果用item2, 要授权完整磁盘权限, 否则写入失败</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo /Applications/Install<span class=se>\ </span>macOS<span class=se>\ </span>Monterey.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume
</span></span></code></pre></td></tr></table></div></div><h2 id=安装系统>安装系统</h2><p>写入成功后, 插着u盘重启电脑, 进入选择界面的方法自己搜下, 我是黑苹果 opencore 直接空格就行, 选择安装</p><p>安装的时候选择刚才新分的宗卷, 千万别选错了</p><p>安装完成后安装新系统进行设置, 用户名记得和原来的用户名选择一样</p><h2 id=迁移数据>迁移数据</h2><h3 id=应用迁移>应用迁移</h3><p>打开磁盘工具, 选择原来的旧宗卷, 打开所在文件夹, 找到 Application , 直接把原来的应用 <code>移动</code> 到新的应用目录, 选择移动是因为更节省空间</p><p>至于不同宗卷的移动会不会比复制更快, 我不太清楚, 但感觉是更快</p><p>这样大部分应用就迁移完成了</p><h3 id=用户数据迁移>用户数据迁移</h3><p>打开用户目录, 把原来的文档, 音乐, 下载 等目录下的文件 <code>移动</code> 到新的目录, 记得使用快捷键<code>cmd+sift+.</code> 显示所有隐藏文件和文件夹, 像<code>.ssh</code> , <code>.cinfig</code>, <code>.vimrc</code>, <code>.profile</code> 之类的也移动过去</p><p>homebrew可能需要重新安装下, homebrew安装的应用应该还在, 如果你有迁移的话</p><h3 id=库文件迁移>库文件迁移</h3><p>库文件有两个, 一个是用户权限的, 一个是管理员权限的, 路径分别是<code>~/Library</code>和<code>/Library</code>, 你可以对比下新旧的文件差异</p><h3 id=少数应用配置迁移>少数应用配置迁移</h3><p>上面的应用迁移后, 大部分直接打开就能用了, 但有的软件想找回原来的设置, 最简单的方法是谷歌搜下该软件在macos下的数据保存路径, 然后移动覆盖就行.</p><p>例如chrome浏览器<code>~/Library/Application Support/Google/Chrome/Default</code>, 刚好是上面的库文件</p><p>如果有的软件没保存在用户目录下呢? 用 <code>AppCleaner</code>
先把软件打开正常用下, 然后打开<code>AppCleaner</code>, 截图, 保留软件本体, 把数据删了, 到旧宗卷里把数据移动回来</p><h3 id=少数应用需要重装>少数应用需要重装</h3><ol><li>pd虚拟机</li><li>java8</li><li>按键映射软件 Karabiner</li><li>homebrew</li></ol><h2 id=删除旧宗卷>删除旧宗卷</h2><p>先用一段时间没问题后再删, 反正原来的大部分数据都被移动到新宗卷了, 占用的空间也不是很大.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/macos/>macos</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>LICENSED UNDER CC BY-NC-SA 4.0<br></a></span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/clean-macos-system-data/><div class=article-details><h2 class=article-title>MacOs清理System Data</h2></div></a></article><article><a href=/p/arch_install_debbian_package/><div class=article-details><h2 class=article-title>Arch安装deb包</h2></div></a></article><article><a href=/p/bspwm_floating_space/><div class=article-details><h2 class=article-title>bspwm添加全部浮动的空间</h2></div></a></article><article><a href=/p/arch_bluetooth/><div class=article-details><h2 class=article-title>arch 使用蓝牙</h2></div></a></article><article><a href=/p/endeavouros_bspwm_install/><div class=article-details><h2 class=article-title>Arch桌面安装(endeavouros)</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2017 -
2023 Jqtmviyu's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>