---
title: "git删除所有历史提交记录"
date: 2020-02-27
# lastmod: 2018-03-07
draft: false
tags: ["git"]
categories: ["教程"]
# author: "*"

# weight: 1

# You can also close(false) or open(true) something for this content.
# P.S. comment can only be closed
# comment: false
toc: true

# You can also define another contentCopyright. e.g. contentCopyright: "This is another copyright."
# contentCopyright: '<a href="https://github.com/gohugoio/hugoBasicExample" rel="noopener" target="_blank">See origin</a>'
# reward: false
# mathjax: true
---

​        在切换Hexo到Hugo的过程中，由于有很多误操作造成提交记录很难看，需要清空历史提交记录。

<!--more-->

1. 切换到新的分支。

   ```bash
   git checkout --orphan latest_branch
   ```

2. 缓存所有的文件（除了.gitignore中声明排除的）

    ```bash
    git add -A
    ```

3. 提交跟踪过的文件。

   ```bash
   git commit -m "提交记录"
   ```

4. 删除master分支。

    ```bash
    git branch -D master
    ```

5. 重命名当前分支为master。

    ```bash
    git branch -m master
    ```

6. 提交到远程master分支。

    ```bash
    git push -f origin master
    ```
